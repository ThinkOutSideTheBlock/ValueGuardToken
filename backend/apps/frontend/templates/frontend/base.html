{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VGT Protocol Dashboard</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* A little extra style for better aesthetics */
        body {
            background-color: #111827;
            /* Dark background */
        }
    </style>
</head>

<body class="text-gray-200">
    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        <header class="flex justify-between items-center mb-8">
            <h1 class="text-3xl font-bold text-white">Value Guard Token</h1>
            <nav class="flex items-center space-x-4">
                <a href="{% url 'main_page' %}" class="text-gray-300 hover:text-white transition">Main Dashboard</a>
                <a href="{% url 'admin_dashboard_page' %}" class="text-gray-300 hover:text-white transition">Admin
                    Dashboard</a>
                <button id="connect-wallet-btn"
                    class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition">
                    Connect Wallet
                </button>
            </nav>
        </header>

        <main>
            {% block content %}{% endblock %}
        </main>
    </div>

    <!-- Ethers.js, Wallet.js, api.js, app.js (unchanged) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <script src="{% static 'frontend/wallet.js' %}"></script>
    <script src="{% static 'frontend/api.js' %}"></script>
    <script src="{% static 'frontend/app.js' %}"></script>

    {% block page_scripts %}
    <!-- === NEW: Pass static paths and other data to JavaScript === -->
    <script id="django-data" type="application/json">
    {
        "tokens": [
            {
                "symbol": "USDC",
                "address": "0xaf88d065e77c8cC2239327C5EDb3A432268e5831",
                "decimals": 6,
                "icon": "{% static 'frontend/images/usdc.png' %}"
            },
            {
                "symbol": "ETH",
                "address": "0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
                "decimals": 18,
                "icon": "{% static 'frontend/images/eth.png' %}"
            }
        ],
        "vaultManagerAddress": "0x1c9fD50dF7a4f066884b58A05D91e4b55005876A"
    }
</script>
    <!-- ========================================================== -->

    <script src="{% static 'frontend/main.js' %}"></script>
    {% endblock %}
</body>

</html>